<div class="container">
    <div *ngIf="isLoading" class="mt-3 text-center">
      <app-loading-spinner></app-loading-spinner>
    </div>
    <ng-container *ngIf="!isLoading">
      <div class="row">
        <div class="offset-2 col-md-8 rounded mt-5" id="formTarefa">
          <h1 class="pt-2 text-left fs-36"><strong>Edit Project #{{ project.id }}</strong></h1>
          <hr>
          <div class="row mt-10">
            <div class="col-sm-12">
              <form #projectForm="ngForm" autocomplete="off" (ngSubmit)="updateProject(projectForm)">
                <input 
                    type="hidden" 
                    name="id" 
                    #id="ngModel"
                    [(ngModel)]="project.id"
                    id="id" 
                    required
                />
                <div class="form-group">
                  <label 
                    for="projectName" 
                    class="control-label mt-2 d-block"
                    >Name
                  </label>
                  <input 
                    type="text" 
                    class="form-control" 
                    id="projectName" 
                    name="name"
                    #name="ngModel"
                    [(ngModel)]="project.name"
                    required
                  />
                </div>
                <div class="form-group">
                  <label 
                    for="projectImage" 
                    class="control-label mt-2 d-block"
                    >Image (URL)
                  </label>
                  <input 
                    class="form-control" 
                    id="projectImage" 
                    name="image"
                    #image="ngModel"
                    [(ngModel)]="project.image"
                    required
                  />
                </div>
                <div class="form-group">
                  <label 
                    for="projectWhy" 
                    class="control-label mt-2 d-block"
                    >Why
                  </label> 
                  <input 
                    type="text" 
                    class="form-control"
                    id="projectWhy"
                    name="why"
                    #why="ngModel"
                    [(ngModel)]="project.why"
                    required
                  />       
                </div>
                <div class="form-group">
                  <label 
                    for="projectWhat" 
                    class="control-label mt-2 d-block"
                    >What
                  </label> 
                  <input 
                    type="text" 
                    class="form-control"
                    id="projectWhat"
                    name="what"
                    #what="ngModel"
                    [(ngModel)]="project.what"
                    required
                  />       
                </div>
                <div class="form-group">
                  <label 
                    for="projectWhatWillWeDo" 
                    class="control-label mt-2 d-block"
                    >What Will We Do?
                  </label> 
                  <input 
                    type="text"
                    id="projectWhatWillWeDo"
                    class="form-control"
                    name="whatWillWeDo"
                    #whatWillWeDo="ngModel"
                    [(ngModel)]="project.whatWillWeDo"
                    required
                  />       
                </div>
                <div class="form-group">
                    <label 
                      for="projectStatus" 
                      class="control-label mt-2 d-block"
                      >Project Status
                    </label> 
                    <select name="projectStatus" #projectStatus="ngModel" [(ngModel)]="project.projectStatus" class="form-control">
                      <option disabled [ngValue]="-1">Select the status...</option>
                      <option 
                        *ngFor="let status of projectStatusEnum; let index = index"
                        [selected]="index == project.projectStatus"
                        [ngValue]="index"
                      > 
                        {{ status }}
                      </option>
                    </select>
                  </div>
                <div class="form-group">
                  <label 
                    for="projectCourse" 
                    class="control-label mt-2 d-block"
                    >Course
                  </label> 
                  <select name="courseId" #courseId="ngModel" [(ngModel)]="project.courseId" class="form-control">
                    <option disabled value="">Select the course...</option>
                    <option 
                      *ngFor="let course of courses"
                      [selected]="course.id === project.courseId" 
                      [ngValue]="course.id"
                    > 
                      {{ course.name }}
                    </option>
                  </select>
                </div>
                <div class="row justify-content-end mt-3">
                  <div class="col-sm-3">
                    <a 
                      (click)="navigationService.navigate('course-projects/', project.id)"
                      class="btn btn-block btn-secondary"
                      >Voltar
                    </a>
                  </div>
                  <div class="col-sm-3">
                    <button 
                      class="btn btn-block btn-primary" 
                      type="submit"
                      [disabled]="!projectForm.valid"
                      >Salvar
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
  